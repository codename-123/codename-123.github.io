---
title: "Yummy (Hard)"
date: 2025-10-21
layout: single
excerpt: "Yummy는 Caddy 웹서버가 포트 80에서 동작하는 레스토랑 웹 앱으로 시작하는 Hard 난이도 박스이다. 공격자는 HTTP Location 헤더에서 임의 파일 읽기 취약점을 발견하는데, 이는 기본 Caddy 설정에서 제대로 처리/정규화되지 않는다. 웹 애플리케이션 소스 코드를 살펴보면 JWT에 RSA 키페어를 사용해 관리자 토큰을 위조(forge)하여 권한을 상승시킬 수 있다. 관리자 패널에는 SQL 인젝션이 있어 임의 파일 쓰기가 가능하고, 공격자는 이를 이용해 주기적으로 실행되는 파일(크론잡)을 덮어쓴다. 부적절한 디렉터리 권한 설정으로 공격자는 www-data로 횡적 이동(lateral movement)할 수 있고, 결국 dev 사용자로 권한을 얻는다. dev 사용자는 루트로 실행 가능한 rsync 바이너리를 실행할 수 있어 이를 통해 최종적으로 루트 권한을 획득한다."
author_profile: true
toc: true
toc_label: "Yummy"
toc_icon: "book"
toc_sticky: true
header:
  teaser: /assets/htb-linux/yummy/yummy.png
  teaser_home_page: true
categories: [hackthebox linux]
tags: [htb, yummy, web, jwt, sqli, priv-esc]
---

![Yummy](/assets/htb-linux/yummy/yummy.png)

Yummy는 `Caddy` 웹서버가 포트 80에서 동작하는 레스토랑 웹 앱으로 시작하는 Hard 난이도 박스이다. 

공격자는 `HTTP Location` 헤더에서 **임의 파일 읽기 취약점**을 발견하는데, 이는 기본 `Caddy` 설정에서 제대로 처리/정규화되지 않는다. 

웹 애플리케이션 소스 코드를 살펴보면 `JWT`에 **RSA 키페어**를 사용해 **토큰을 위조(forge)**하여 권한을 상승시킬 수 있다. 관리자 패널에는 **SQL 인젝션**이 있어 **임의 파일 쓰기**가 가능하고, 공격자는 이를 이용해 주기적으로 실행되는 파일(`크론잡`)을 덮어쓴다. 

부적절한 디렉터리 권한 설정으로 공격자는 `www-data`로 **횡적 이동(lateral movement)**할 수 있고, 결국 `dev` 사용자로 권한을 얻는다. `dev` 사용자는 루트로 실행 가능한 `rsync` 바이너리를 실행할 수 있어 이를 통해 최종적으로 `루트` 권한을 획득한다.
